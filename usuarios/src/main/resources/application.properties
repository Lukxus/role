# Nome da aplicação
spring.application.name=usuarios

# Porta do servidor
server.port=8084

#########################################
# Configurações para o Keycloak Adapter #
#########################################
# Nome do realm configurado no Keycloak
keycloak.realm=MeuRealm
# URL do servidor de autenticação do Keycloak (ajuste a porta ou domínio se necessário)
keycloak.auth-server-url=http://localhost:8080/auth
# Identificador do cliente (resource) conforme configurado no Keycloak
keycloak.resource=usuarios-app
# Secret gerado no Keycloak para este cliente (substitua pelo seu valor)
keycloak.credentials.secret=YOUR_SECRET_HERE
# Indica se o cliente é público ou confidencial
keycloak.public-client=false

# (Opcional) Configuração dos security constraints, se estiver usando o Keycloak Spring Adapter para proteger as rotas
keycloak.security-constraints[0].securityCollections[0].patterns[0]=/*
keycloak.security-constraints[0].authRoles[0]=user

#########################################
# Configurações do Spring Security OAuth2 #
#########################################
# Cadastro do cliente para integração OAuth2 com Keycloak
spring.security.oauth2.client.registration.keycloak.client-id=usuarios-app
spring.security.oauth2.client.registration.keycloak.client-secret=YOUR_SECRET_HERE
spring.security.oauth2.client.registration.keycloak.authorization-grant-type=authorization_code
# URL para onde o Keycloak redirecionará após o login (ajuste {baseUrl} para a URL base da sua aplicação)
spring.security.oauth2.client.registration.keycloak.redirect-uri={baseUrl}/login/oauth2/code/keycloak
# Escopos solicitados durante a autenticação (mínimo: openid)
spring.security.oauth2.client.registration.keycloak.scope=openid,profile,email

# Endpoints do Keycloak para o fluxo OAuth2
spring.security.oauth2.client.provider.keycloak.authorization-uri=http://localhost:8080/auth/realms/MeuRealm/protocol/openid-connect/auth
spring.security.oauth2.client.provider.keycloak.token-uri=http://localhost:8080/auth/realms/MeuRealm/protocol/openid-connect/token
spring.security.oauth2.client.provider.keycloak.user-info-uri=http://localhost:8080/auth/realms/MeuRealm/protocol/openid-connect/userinfo
spring.security.oauth2.client.provider.keycloak.jwk-set-uri=http://localhost:8080/auth/realms/MeuRealm/protocol/openid-connect/certs
